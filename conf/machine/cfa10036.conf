#@TYPE: Machine
#@NAME: Crystalfontz CFA-10036
#@SOC: i.MX28
#@DESCRIPTION: Machine configuration for CFA-10036

include conf/machine/include/mxs-base.inc

SOC_FAMILY = "mxs:mx28"

PREFERRED_PROVIDER_virtual/kernel = "linux-cfa"

BAREBOX_MACHINE = "cfa10036_defconfig"
IMAGE_BOOTLOADER = "barebox"
BAREBOX_BINARY = "barebox"

#can be removed after inclusion in the mainline
IMAGE_CLASSES += "image_types_cfa"

IMXBOOTLETS_MACHINE = "cfa10036"
BOOT_SPACE="32768"

KERNEL_IMAGETYPE = "zImage"
KERNEL_DEVICETREE = "${S}/arch/arm/boot/dts/imx28-cfa10036.dts"
KERNEL_DEVICETREE += "${S}/arch/arm/boot/dts/imx28-cfa10037.dts"
KERNEL_DEVICETREE += "${S}/arch/arm/boot/dts/imx28-cfa10049.dts"
KERNEL_DEVICETREE += "${S}/arch/arm/boot/dts/imx28-cfa10057.dts"
KERNEL_DEVICETREE += "${S}/arch/arm/boot/dts/imx28-cfa10058.dts"

#we need the kernel to be installed in the final image
IMAGE_INSTALL_append = " kernel-image kernel-devicetree"

SDCARD_ROOTFS ?= "${DEPLOY_DIR_IMAGE}/${IMAGE_NAME}.rootfs.ext3"
IMAGE_FSTYPES ?= "tar.bz2 ext3 barebox.sb sdcard"

SERIAL_CONSOLE = "115200 ttyAMA0"

MACHINE_FEATURES = "apm usbgadget usbhost vfat"

# Gstreamer plugin
MACHINE_GSTREAMER_PLUGIN ?= "gst-fsl-plugin"
